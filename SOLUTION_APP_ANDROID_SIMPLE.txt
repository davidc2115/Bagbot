â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         APPLICATION ANDROID - PROBLÃˆME DE CONNEXION            â•‘
â•‘                      DIAGNOSTIC COMPLET                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” PROBLÃˆME IDENTIFIÃ‰
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
L'application Android ne peut PAS se connecter parce que :

âŒ L'API mobile (port 3001) n'est PAS dÃ©marrÃ©e
âŒ Le bot Discord n'est PAS en cours d'exÃ©cution

ğŸ“Š SITUATION ACTUELLE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… Dashboard Web ......... OPÃ‰RATIONNEL (port 33002)
âŒ API Mobile ............. ARRÃŠTÃ‰E (port 3001)
âŒ Bot Discord ............ ARRÃŠTÃ‰
âœ… App Android ............ PRÃŠTE (attend connexion)

ğŸ—ï¸  ARCHITECTURE DU SYSTÃˆME
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Vous avez DEUX systÃ¨mes diffÃ©rents :

1. Dashboard Web (navigateur)
   â†’ http://88.174.155.230:33002
   â†’ Fichier : dashboard-v2/server-v2.js
   â†’ Status : âœ… FONCTIONNE

2. API Mobile (application Android)
   â†’ http://88.174.155.230:3001
   â†’ Fichier : src/api/server.js
   â†’ Status : âŒ NON DÃ‰MARRÃ‰E
   â†’ LancÃ©e automatiquement par le bot Discord

ğŸ”§ SOLUTION EN 5 Ã‰TAPES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Ã‰TAPE 1 : Obtenir le Client Secret Discord
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1. Aller sur : https://discord.com/developers/applications
2. SÃ©lectionner votre application bot
3. Onglet "OAuth2" â†’ "General"
4. Copier le "Client Secret"
5. GARDEZ-LE pour l'Ã©tape 2

Ã‰TAPE 2 : Configurer les variables d'environnement
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Ã‰diter le fichier : /workspace/.env

Remplacer :
   DISCORD_TOKEN=YOUR_DISCORD_BOT_TOKEN_HERE
   DISCORD_CLIENT_SECRET=YOUR_CLIENT_SECRET_HERE

Par vos vraies valeurs :
   DISCORD_TOKEN=votre_vrai_token_bot
   DISCORD_CLIENT_SECRET=votre_vrai_client_secret

Ã‰TAPE 3 : Configurer OAuth2 sur Discord
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1. Retour sur Discord Developer Portal
2. Onglet "OAuth2" â†’ "Redirects"
3. Cliquer "Add Redirect"
4. Ajouter ces 3 URLs :

   http://88.174.155.230:3001/auth/callback
   http://localhost:3001/auth/callback
   bagbot://oauth

5. Cliquer "Save Changes"

Ã‰TAPE 4 : DÃ©marrer le bot Discord
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
cd /workspace

# Avec PM2 (recommandÃ©) :
pm2 start src/bot.js --name bagbot
pm2 save

# OU en direct (pour tester) :
node src/bot.js

Vous devriez voir :
   Login succeeded
   [API] âœ… Serveur API dÃ©marrÃ© sur le port 3001
   [API] ğŸ“± L'application Android peut maintenant se connecter

Ã‰TAPE 5 : Tester et utiliser l'app
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1. Tester l'API :
   curl http://88.174.155.230:3001/health
   
   Doit retourner :
   {"status":"ok",...}

2. Ouvrir l'application Android

3. PremiÃ¨re utilisation :
   - Entrer l'URL : http://88.174.155.230:3001
   - Cliquer "Continuer"
   - Tester la connexion

4. Se connecter avec Discord :
   - Cliquer "Se connecter avec Discord"
   - Autoriser l'application
   - Retour automatique vers l'app

5. Profiter ! ğŸ‰

ğŸ“± CONFIGURATION APP ANDROID
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
URL Ã  configurer : http://88.174.155.230:3001
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”˜
                           IP               Port 3001
                                           (PAS 33002 !)

âš ï¸  IMPORTANT
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
- Le Dashboard Web (33002) et l'API Mobile (3001) sont DIFFÃ‰RENTS
- L'app Android utilise le port 3001, PAS 33002
- Le bot Discord DOIT Ãªtre dÃ©marrÃ© pour que l'API fonctionne
- Sans DISCORD_CLIENT_SECRET, l'OAuth2 ne fonctionnera pas

ğŸ” VÃ‰RIFICATIONS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… Bot dÃ©marre ?
   ps aux | grep 'node.*bot.js'

âœ… API Ã©coute sur port 3001 ?
   netstat -tuln | grep 3001

âœ… API rÃ©pond ?
   curl http://88.174.155.230:3001/health

âœ… Firewall autorise le port 3001 ?
   sudo ufw status
   sudo ufw allow 3001/tcp

ğŸ› DÃ‰PANNAGE RAPIDE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ProblÃ¨me : Le bot ne dÃ©marre pas
â†’ VÃ©rifier DISCORD_TOKEN dans .env (pas "YOUR_DISCORD_BOT_TOKEN_HERE")

ProblÃ¨me : API ne dÃ©marre pas avec le bot
â†’ VÃ©rifier DISCORD_CLIENT_SECRET dans .env
â†’ Regarder les logs : pm2 logs bagbot

ProblÃ¨me : App affiche "Network Error"
â†’ VÃ©rifier URL : http://88.174.155.230:3001
â†’ Tester : curl http://88.174.155.230:3001/health
â†’ VÃ©rifier firewall : sudo ufw allow 3001/tcp

ProblÃ¨me : OAuth ne fonctionne pas
â†’ VÃ©rifier redirections sur Discord Developer Portal
â†’ VÃ©rifier API_REDIRECT_URI dans .env

ğŸ“š DOCUMENTATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Guide complet : ANDROID_APP_GUIDE.md
Diagnostic dÃ©taillÃ© : PROBLEME_APP_ANDROID_DIAGNOSTIQUE.md
App Android : /workspace/android-app/

âœ… RÃ‰CAPITULATIF
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Pour que l'app Android fonctionne :

1. âš ï¸  Obtenir DISCORD_CLIENT_SECRET
2. âš ï¸  Configurer .env avec les vraies valeurs
3. âš ï¸  Ajouter redirections OAuth2 sur Discord
4. âš ï¸  DÃ©marrer le bot : pm2 start src/bot.js --name bagbot
5. âœ… Tester : curl http://88.174.155.230:3001/health
6. âœ… Ouvrir l'app et configurer : http://88.174.155.230:3001
7. âœ… Se connecter avec Discord
8. ğŸ‰ Profiter !

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    Une fois le bot dÃ©marrÃ©, l'app fonctionnera parfaitement ! ğŸš€
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
