â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘     âœ… COMMANDES POUR /home/bagbot/bag-bot                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Copiez-collez ces commandes dans votre VM:

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âš¡ VERSION TOUT-EN-UN (1 seule commande)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

cd /home/bagbot/bag-bot && BACKUP_DATE=$(date +%Y%m%d_%H%M%S) && cp src/commands/dashboard.js src/commands/dashboard.js.backup_$BACKUP_DATE && cp src/utils/discord_gif_downloader.js src/utils/discord_gif_downloader.js.backup_$BACKUP_DATE && cp dashboard-v2/server-v2.js dashboard-v2/server-v2.js.backup_$BACKUP_DATE && cp dashboard-v2/index.html dashboard-v2/index.html.backup_$BACKUP_DATE && cp dashboard-v2/auto_download_discord_gifs.js dashboard-v2/auto_download_discord_gifs.js.backup_$BACKUP_DATE && sed -i 's|82\.67\.65\.98:3002|88.174.155.230:3002|g' src/commands/dashboard.js src/utils/discord_gif_downloader.js dashboard-v2/server-v2.js dashboard-v2/index.html dashboard-v2/auto_download_discord_gifs.js && pm2 restart bag-bot dashboard && pm2 status && echo "" && echo "âœ… TERMINÃ‰! Testez /dashboard sur Discord"

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“ VERSION DÃ‰TAILLÃ‰E (Ã©tape par Ã©tape)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# 1. Aller dans le rÃ©pertoire du bot
cd /home/bagbot/bag-bot

# 2. CrÃ©er les sauvegardes
echo "ğŸ’¾ CrÃ©ation des sauvegardes..."
BACKUP_DATE=$(date +%Y%m%d_%H%M%S)
cp src/commands/dashboard.js src/commands/dashboard.js.backup_$BACKUP_DATE
cp src/utils/discord_gif_downloader.js src/utils/discord_gif_downloader.js.backup_$BACKUP_DATE
cp dashboard-v2/server-v2.js dashboard-v2/server-v2.js.backup_$BACKUP_DATE
cp dashboard-v2/index.html dashboard-v2/index.html.backup_$BACKUP_DATE
cp dashboard-v2/auto_download_discord_gifs.js dashboard-v2/auto_download_discord_gifs.js.backup_$BACKUP_DATE
echo "âœ… Sauvegardes crÃ©Ã©es: backup_$BACKUP_DATE"

# 3. Modifier les fichiers (remplacer l'ancienne IP)
echo ""
echo "ğŸ”„ Modification des fichiers..."
sed -i 's|82\.67\.65\.98:3002|88.174.155.230:3002|g' src/commands/dashboard.js
sed -i 's|82\.67\.65\.98:3002|88.174.155.230:3002|g' src/utils/discord_gif_downloader.js
sed -i 's|82\.67\.65\.98:3002|88.174.155.230:3002|g' dashboard-v2/server-v2.js
sed -i 's|82\.67\.65\.98:3002|88.174.155.230:3002|g' dashboard-v2/index.html
sed -i 's|82\.67\.65\.98:3002|88.174.155.230:3002|g' dashboard-v2/auto_download_discord_gifs.js
echo "âœ… Fichiers modifiÃ©s"

# 4. VÃ©rifier les modifications
echo ""
echo "ğŸ” VÃ©rification..."
grep -c "88.174.155.230:3002" src/commands/dashboard.js src/utils/discord_gif_downloader.js dashboard-v2/server-v2.js dashboard-v2/index.html dashboard-v2/auto_download_discord_gifs.js

# 5. RedÃ©marrer les services
echo ""
echo "ğŸ”„ RedÃ©marrage des services..."
pm2 restart bag-bot dashboard

# 6. VÃ©rifier l'Ã©tat
echo ""
echo "ğŸ“Š Ã‰tat des services:"
pm2 status

# 7. Voir les logs (optionnel)
echo ""
echo "ğŸ“‹ Logs rÃ©cents:"
pm2 logs bag-bot --lines 10 --nostream

echo ""
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘           âœ… DÃ‰PLOIEMENT TERMINÃ‰!                     â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ¯ TESTEZ MAINTENANT:"
echo "   1. Allez sur Discord"
echo "   2. Tapez: /dashboard"
echo "   3. VÃ©rifiez le lien: http://88.174.155.230:3002"
echo "   4. Cliquez sur le bouton pour ouvrir le dashboard"
echo ""

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”™ RESTAURATION (si problÃ¨me)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

cd /home/bagbot/bag-bot

# Remplacez YYYYMMDD_HHMMSS par votre timestamp
BACKUP_DATE="20251127_XXXXXX"

cp src/commands/dashboard.js.backup_$BACKUP_DATE src/commands/dashboard.js
cp src/utils/discord_gif_downloader.js.backup_$BACKUP_DATE src/utils/discord_gif_downloader.js
cp dashboard-v2/server-v2.js.backup_$BACKUP_DATE dashboard-v2/server-v2.js
cp dashboard-v2/index.html.backup_$BACKUP_DATE dashboard-v2/index.html
cp dashboard-v2/auto_download_discord_gifs.js.backup_$BACKUP_DATE dashboard-v2/auto_download_discord_gifs.js

pm2 restart bag-bot dashboard

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

